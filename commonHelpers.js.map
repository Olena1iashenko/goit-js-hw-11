{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport const getPhotosByQuery = query => {\n  const BASE_URL = 'https://pixabay.com';\n  const API_KEY = '43337272-ad726c9b9e29498af38112cb0';\n  const searchParams = new URLSearchParams({\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    key: API_KEY,\n  });\n\n  return fetch(`${BASE_URL}/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};","export const createGalleryCards = images => {\n  return images\n    .map(\n      img => `\n      <div class=\"card-wrapper\">\n  <li class=\"gallery-card\">\n    <a href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\" class=\"gallery-img\"/></a>\n    <div class=\"gallery-panel\">\n      <p>Likes ${img.likes}</p>\n      <p>Views ${img.views}</p>\n      <p>Comments ${img.comments}</p>\n      <p>Downloads ${img.downloads}</p>\n    </div>\n  </li>\n</div>\n    `\n    )\n    .join('');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotosByQuery } from \"./js/pixabay-api.js\";\nimport { createGalleryCards } from \"./js/render-functions.js\";\n\nconst searchFormEl = document.querySelector('.js-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 });\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit (event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements.search.value.trim();\n  galleryEl.innerHTML = \"\";\n  \n  if (searchQuery === '') {\n      return iziToast.error({\n          message: 'The input field must not be empty!',\n          position: 'topRight',\n      });\n    }\n  loaderEl.classList.remove('is-hidden');\n\n  getPhotosByQuery(searchQuery)\n      .then((data) => {\n      if (data.hits.length === 0) {\n        return iziToast.error({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n            });\n        }\n          galleryEl.innerHTML = createGalleryCards(data.hits);\n          lightbox.refresh();\n    })\n    .catch((error) => {\n        console.log(error);\n    })\n    .finally(() => {\n        loaderEl.classList.add('is-hidden');\n        searchFormEl.reset();\n    })\n}\n\n"],"names":["getPhotosByQuery","query","BASE_URL","API_KEY","searchParams","response","createGalleryCards","images","img","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","searchQuery","iziToast","data","error"],"mappings":"6vBACO,MAAMA,EAAmBC,GAAS,CACvC,MAAMC,EAAW,sBACXC,EAAU,qCACVC,EAAe,IAAI,gBAAgB,CACvC,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,IAAKE,CACT,CAAG,EAED,OAAO,MAAM,GAAGD,CAAQ,SAASE,CAAY,EAAE,EAAE,KAAKC,GAAY,CAChE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAqBC,GACzBA,EACJ,IACCC,GAAO;AAAA;AAAA;AAAA,eAGEA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,iBAEhEA,EAAI,KAAK;AAAA,iBACTA,EAAI,KAAK;AAAA,oBACNA,EAAI,QAAQ;AAAA,qBACXA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,KAK7B,EACA,KAAK,EAAE,ECTNC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAE5FJ,EAAa,iBAAiB,SAAUK,CAAkB,EAE1D,SAASA,EAAoBC,EAAO,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAGvD,GAFAL,EAAU,UAAY,GAElBM,IAAgB,GAChB,OAAOC,EAAS,MAAM,CAClB,QAAS,qCACT,SAAU,UACpB,CAAO,EAELN,EAAS,UAAU,OAAO,WAAW,EAErCX,EAAiBgB,CAAW,EACvB,KAAME,GAAS,CAChB,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAOD,EAAS,MAAM,CAChB,QAAS,2EACT,SAAU,UACxB,CAAa,EAEHP,EAAU,UAAYJ,EAAmBY,EAAK,IAAI,EAClDN,EAAS,QAAO,CAC1B,CAAK,EACA,MAAOO,GAAU,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACXR,EAAS,UAAU,IAAI,WAAW,EAClCF,EAAa,MAAK,CAC1B,CAAK,CACL"}